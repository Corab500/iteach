<#include "/lib/layout.html">

<@layout_std pageId="accounts" modules = []>
	<table class="table table-striped table-hover">
		<thead>
			<tr>
				<th>&nbsp;</th>
				<th><@lh key="user.lastName" /></th>
				<th><@lh key="user.firstName" /></th>
				<th><@lh key="user.email" /></th>
				<th><@lh key="admin.accounts.mode" /></th>
				<th><@lh key="admin.accounts.administrator" /></th>
				<th><@lh key="admin.accounts.verified" /></th>
				<th><@lh key="admin.accounts.schoolCount" /></th>
				<th><@lh key="admin.accounts.studentCount" /></th>
				<th><@lh key="admin.accounts.lessonCount" /></th>
				<th>&nbsp;</th>
			</tr>
		</thead>
		<tbody>
			<#list accounts as account>
				<#assign classes="" />
				<#if !account.verified>
					<#assign classes = "error" />
				</#if>
				<tr class="${classes}">
					<td>
						<#if account.self>
							&#9658;
						</#if>
					</td>
					<td>${account.lastName?html}</td>
					<td>${account.firstName?html}</td>
					<td><a href="mailto:${account.email?html}">${account.email?html}</a></td>
					<td><@lh key= "admin.accounts.mode." + account.mode /></td>
					<td><@yes_no value=account.admin /></td>
					<td><@yes_no value=account.verified /></td>
					<td>${account.schoolCount}</td>
					<td>${account.studentCount}</td>
					<td>${account.lessonCount}</td>
					<td>
						<#if !account.admin>
							<a href="admin/account/${account.id}/delete"><@lh key="general.delete"/></a>
						</#if>
					</td>
				</tr>
			</#list>
		</tbody>
	</table>	
</@layout_std>